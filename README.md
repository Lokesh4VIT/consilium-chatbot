# ğŸ§  Consilium â€” The AI That Debates Itself

> *Four AI systems argue. One best answer wins.*

---

## What is Consilium?

When you ask one AI a question, you get one opinion. It might be wrong. You have no way to know.

**Consilium fixes this.**

It sends your question to **four different AI systems at the same time**, makes them **debate and challenge each other's answers**, and then picks the **most logically correct response** â€” not the most popular one.

Think of it like asking four experts the same question, locking them in a room to argue, and then having a judge pick the strongest argument.

---

## Why Does This Matter?

| Old Way | Consilium Way |
|---|---|
| Ask 1 AI â†’ get 1 answer | Ask 4 AIs â†’ get 4 answers |
| No way to verify if it's correct | AIs cross-examine each other |
| Popular answer wins | Best-reasoned answer wins |
| You trust blindly | You see the full debate |

---

## How It Works â€” Simple Version

```
You type a question
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4 AIs answer independently           â”‚
â”‚  OpenAI â€¢ Gemini â€¢ Perplexity â€¢ Claudeâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Each AI critiques the other 3        â”‚
â”‚  "Your reasoning has a flaw becauseâ€¦" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Each AI revises or defends its answerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  A judge AI picks the best reasoning  â”‚
â”‚  (not the most popular answer)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
  You get the most trustworthy answer
  + full debate transcript
  + confidence score
```

---

## Features

-  **4 AI engines in one** â€” OpenAI, Google Gemini, Perplexity, OpenRouter
-  **Real adversarial debate** â€” AIs genuinely challenge each other's logic
-  **Quality over popularity** â€” minority answer wins if its reasoning is stronger
-  **Confidence scoring** â€” see how certain the system is about the answer
-  **Full transparency** â€” read every AI's individual answer and critique
-  **Chat history** â€” all your conversations saved and searchable
-  **Secure login** â€” sign in with your Google account
-  **Fast** â€” all 4 AIs run simultaneously, not one after another

---

## Live Demo

 **[Try it here â†’](https://consilium-chatbot.vercel.app)**

Sign in with Google â€” no password needed.

---

## What It Looks Like

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ You: Is the statement "a teacher is rubbing     â”‚
â”‚          the board" true or false?                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¤– OpenAI:     True  (confidence: High)            â”‚
â”‚  ğŸ¤– Gemini:     True  (confidence: High)            â”‚
â”‚  ğŸ¤– Perplexity: True  (confidence: Medium)          â”‚
â”‚  ğŸ¤– Claude:     âš ï¸ Cannot be determined â€”           â”‚
â”‚                 a single statement without context   â”‚
â”‚                 cannot be verified as true or false  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   FINAL ANSWER: Cannot be determined              â”‚
â”‚   Selected because: Claude's reasoning was        â”‚
â”‚   logically superior despite being outvoted 3-1   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Cost

Each question costs roughly **$0.001 to $0.003** (less than a fraction of a cent).

For context: you could ask **1,000 questions for about $1-3**.

---

## For Developers â€” Running Locally

### What You Need First

- [Node.js 18+](https://nodejs.org) installed
- A [Supabase](https://supabase.com) account (free)
- API keys for the AI providers (see table below)

### Step 1 â€” Get the code

```bash
git clone https://github.com/Lokesh4VIT/consilium-chatbot.git
cd consilium-chatbot
npm install
```

### Step 2 â€” Set up your secrets

```bash
cp .env.example .env.local
```

Open `.env.local` and fill in your API keys:

```
NEXT_PUBLIC_SUPABASE_URL=        â† from supabase.com dashboard
NEXT_PUBLIC_SUPABASE_ANON_KEY=   â† from supabase.com dashboard
SUPABASE_SERVICE_ROLE_KEY=       â† from supabase.com dashboard
OPENAI_API_KEY=                  â† from platform.openai.com
GOOGLE_GEMINI_API_KEY=           â† from aistudio.google.com
PERPLEXITY_API_KEY=              â† from perplexity.ai/settings/api
OPENROUTER_API_KEY=              â† from openrouter.ai/keys
```

### Step 3 â€” Run it

```bash
npm run dev
```

Open `http://localhost:3000` in your browser.

---

## API Keys â€” Where to Get Them

| AI Provider | Get Key Here | Free Tier? |
|---|---|---|
| OpenAI (GPT-4) | [platform.openai.com/api-keys](https://platform.openai.com/api-keys) | No â€” pay as you go |
| Google Gemini | [aistudio.google.com](https://aistudio.google.com/app/apikey) | âœ… Yes |
| Perplexity | [perplexity.ai/settings/api](https://www.perplexity.ai/settings/api) | No â€” pay as you go |
| OpenRouter | [openrouter.ai/keys](https://openrouter.ai/keys) | âœ… Free credits |
| Supabase | [supabase.com/dashboard](https://supabase.com/dashboard) | âœ… Yes |

---

## Deploying to Vercel

1. Push code to GitHub
2. Go to [vercel.com](https://vercel.com) â†’ New Project â†’ Import your repo
3. Add all your environment variables in Vercel dashboard
4. Click Deploy

After deploying, update your Supabase settings:
- **Site URL** â†’ `https://your-app.vercel.app`
- **Redirect URL** â†’ `https://your-app.vercel.app/auth/callback`

---

## Security

-  All AI API keys are **server-side only** â€” never exposed to the browser
-  Login via Google OAuth â€” we never store your password
-  Database rules ensure **you can only see your own conversations**
-  Rate limiting prevents abuse â€” 20 queries/day on free plan
-  All inputs are sanitized to prevent prompt injection attacks

---

## Tech Stack

| Layer | Technology |
|---|---|
| Frontend | Next.js 15, React, Tailwind CSS |
| Backend | Next.js API Routes (TypeScript) |
| Database | PostgreSQL via Supabase |
| Authentication | Google OAuth via Supabase Auth |
| AI Providers | OpenAI, Gemini, Perplexity, OpenRouter |
| Deployment | Vercel |

---

## Project Structure

```
consilium-chatbot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/consensus/     â† The debate engine lives here
â”‚   â”‚   â”œâ”€â”€ chat/              â† The chat interface
â”‚   â”‚   â””â”€â”€ login/             â† Google login page
â”‚   â”œâ”€â”€ components/            â† UI building blocks
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ ai/                â† All AI logic
â”‚   â”‚   â””â”€â”€ db/                â† Database connection
â”‚   â””â”€â”€ middleware.ts          â† Security guard for all routes
â”œâ”€â”€ supabase/migrations/       â† Database schema
â””â”€â”€ .env.example               â† Template for your secrets
```

---

## Questions or Issues?

Open an [issue on GitHub](https://github.com/Lokesh4VIT/consilium-chatbot/issues) and describe what you're seeing.

---

<div align="center">

Built with curiosity. Powered by disagreement.

**[â­ Star this repo](https://github.com/Lokesh4VIT/consilium-chatbot)** if you found it useful.

</div>
